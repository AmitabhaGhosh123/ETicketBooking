<section role="form">
    <div class="login-wrapper">
        <div class="container login-container">
          <div class="title">Login</div>
            <div class="content">
              <form novalidate [formGroup]="loginForm" (ngSubmit)="loginUser(loginForm)">
                <div class="login-details">
                  <div class="input-box">
                    <label for="inputUserName" class="label-title">Username</label>
                    <input type="text" placeholder="Enter Username" class="form-control" formControlName="userName" required
                    [ngClass]="{'form-control-error': loginForm.get('userName').hasError('required') && (loginForm.get('userName').touched || loginForm.get('userName').dirty)}">

                    <div class="error" *ngIf="(loginForm.get('userName').touched || loginForm.get('userName').dirty)">
                      <div *ngIf="loginForm.get('userName').hasError('required')">
                          Username is required
                      </div>
                      <div *ngIf="loginForm.get('userName').hasError('maxlength')">
                          Username can only contain upto 30 characters
                      </div>
                    </div>
                  </div>
                  <div class="input-box">
                    <label for="inputPassword" class="label-title">Password</label>
                    <input type="password" placeholder="Enter Password" class="form-control" formControlName="password" required
                    [ngClass]="{'form-control-error': loginForm.get('password').hasError('required') && (loginForm.get('password').touched || loginForm.get('password').dirty)}">

                    <div class="error" *ngIf="(loginForm.get('password').touched || loginForm.get('password').dirty)">
                      <div *ngIf="loginForm.get('password').hasError('required')">
                          Password is required
                      </div>
                      <div *ngIf="loginForm.get('password').hasError('maxlength')">
                          Password can only contain upto 10 characters
                      </div>
                      <div *ngIf="loginForm.get('password').hasError('pattern')">
                        Password should contain atleast one uppercase,lowercase,special and numeric values
                      </div>
                    </div>
                  </div>
                </div>
                <div class="button">
                  <button type="submit" class="btn" [disabled]="loginForm.invalid">Login</button>
                </div>
              </form>
          </div>
        </div>
    </div> 
</section>

<ng-container *ngIf="showError; else successMessage">
    <div class="toast-container top-0 end-0 p-3">
        <div id="liveloginToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-body toast-error text-center">
                {{loginErrorMessage}}
            </div>
        </div>
    </div>
</ng-container>

<ng-template #successMessage>
    <div class="toast-container top-0 end-0 p-3">
        <div id="liveloginToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-body toast-success text-center">
              {{loginSuccessMessage}}
          </div>
        </div>
    </div>
</ng-template>